To develop a RESTful API using Express.js that allows CRUD operations on a collection of
playing cards.


import React, { useState, useEffect } from 'react';
import './App.css'; // We'll create this file for styling
const API_URL = 'http://localhost:3000/cards';
function App() {
// State for the list of cards
const [cards, setCards] = useState([]);
// State for the form inputs (for adding/editing)
const [formData, setFormData] = useState({ suit: '', value: '' });
// State to track which card is being edited, if any
Section/Group: 602-A
UID: 23BCS13402 Student Name: Atul
const [editingCardId, setEditingCardId] = useState(null);
// State for loading and error messages
const [isLoading, setIsLoading] = useState(true);
const [error, setError] = useState(null);
// Fetch all cards from the API when the component mounts
useEffect(() => {
 const fetchCards = async () => {
 try {
 const response = await fetch(API_URL);
 if (!response.ok) {
 throw new Error(`HTTP error! status: ${response.status}`);
 }
 const data = await response.json();
 setCards(data);
 } catch (e) {
 setError('Failed to fetch cards. Is the server running?');
 console.error(e);
 } finally {
 setIsLoading(false);
 }
 };
 fetchCards();
}, []); // Empty dependency array means this runs once on mount
// Handle changes in the form inputs
const handleInputChange = (e) => {
 
const { name, value } = e.target;
 setFormData({ ...formData, [name]: value });
};
// Handle form submission for both creating and updating
const handleSubmit = async (e) => {
 e.preventDefault();
 if (!formData.suit || !formData.value) {
 alert('Suit and Value cannot be empty');
 return;
 }
 const method = editingCardId ? 'PUT' : 'POST';
 const url = editingCardId ? `${API_URL}/${editingCardId}` : API_URL;
 try {
 const response = await fetch(url, {
 method: method,
 headers: { 'Content-Type': 'application/json' },
 body: JSON.stringify(formData),
 });
 if (!response.ok) {
 throw new Error('Failed to save the card');
 }
 const savedCard = await response.json();
 
if (editingCardId) {
 // Update the card in the list
 setCards(cards.map(card => (card.id === editingCardId ? savedCard : card)));
 } else {
 // Add the new card to the list
 setCards([...cards, savedCard]);
 }
 
 // Reset the form and editing state
 setFormData({ suit: '', value: '' });
 setEditingCardId(null);
 } catch (e) {
 setError(e.message);
 }
};
// Handle clicking the "Edit" button
const handleEdit = (card) => {
 setEditingCardId(card.id);
 setFormData({ suit: card.suit, value: card.value });
};
// Handle cancelling an edit
const handleCancelEdit = () => {
 setEditingCardId(null);
 setFormData({ suit: '', value: '' });
};
// Handle deleting a card
const handleDelete = async (id) => {
 if (!window.confirm('Are you sure you want to delete this card?')) {
 return;
 }
 
 try {
 const response = await fetch(`${API_URL}/${id}`, {
 method: 'DELETE',
 });
 if (!response.ok) {
 throw new Error('Failed to delete the card');
 }
 
 // Remove the card from the list
 setCards(cards.filter(card => card.id !== id));
 } catch (e) {
 setError(e.message);
 }
};
return (
 <div className="App">
 <header>
 <h1>Playing Card Collection</h1>
 </header>
 
<main>
 <div className="form-container">
 <h2>{editingCardId ? 'Edit Card' : 'Add a New Card'}</h2>
 <form onSubmit={handleSubmit}>
 <input
 name="suit"
 placeholder="Suit (e.g., Hearts)"
 value={formData.suit}
 onChange={handleInputChange}
 required
 />
 <input
 name="value"
 placeholder="Value (e.g., A, K, 10)"
 value={formData.value}
 onChange={handleInputChange}
 required
 />
 <div className="form-buttons">
 <button type="submit">{editingCardId ? 'Update Card' : 'Add Card'}</button>
 {editingCardId && <button type="button"
onClick={handleCancelEdit}>Cancel</button>}
 </div>
 </form>
 </div>
 {error && <p className="error">{error}</p>}
 {isLoading ? (
 
<p>Loading cards...</p>
 ) : (
 <div className="card-list">
 {cards.map(card => (
 <div key={card.id} className="card-item">
 <div className="card-info">
 <strong>Suit:</strong> {card.suit}, <strong>Value:</strong> {card.value}
 </div>
 <div className="card-actions">
 <button onClick={() => handleEdit(card)}>Edit</button>
 <button onClick={() => handleDelete(card.id)}
className="delete-btn">Delete</button>
 </div>
 </div>
 ))}
 </div>
 )}
 </main>
 </div>
);
}
export default App;
